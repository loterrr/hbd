<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>hbd bff</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"
    />
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <style>
      body {
        margin: 0;
        background: linear-gradient(135deg, #f7eaff 0%, #aee7ff 100%);
        overflow: hidden;
        font-family: 'Arial', sans-serif;
      }

      .happy-birthday-banner {
        text-align: center;
        margin-top: 50px;
        font-size: 48px;
        font-family: 'Pacifico', cursive;
        color: #ff7bd7;
        text-shadow: 2px 2px 8px #aee7ff, 0 0 12px #fff;
        letter-spacing: 2px;
      }

      .candle-count-display {
        text-align: center;
        margin: 10px auto 20px auto;
        font-size: 20px;
        background-color: #fff;
        padding: 10px 20px;
        border-radius: 12px;
        border: 2px solid #aee7ff;
        width: fit-content;
        color: #4dbfff;
        box-shadow: 0 2px 8px #aee7ff44;
      }

      .candle-count-display span {
        font-weight: bold;
        color: #ff7bd7;
      }

      .cake {
        position: relative;
        width: 250px;
        height: 200px;
        margin: 50px auto;
        z-index: 2;
      }

      .plate {
        width: 270px;
        height: 110px;
        position: absolute;
        bottom: 10px;
        left: -11.5px;
        background-color: #ffffff;
        border-radius: 50%;
        box-shadow: 0 2px 0 #b3b3b3, 0 4px 0 #b3b3b3, 0 5px 40px rgba(174, 231, 255, 0.3);
        border: 3px solid #ffffff;
      }

      .layer {
        display: block;
        width: 250px;
        height: 100px;
        border-radius: 43%;
        background: #fff;
        position: absolute;
        border: 2px solid #ffb3e6;
        box-sizing: border-box;
      }

      .layer-top { 
        top: 0;
        border: 3px solid #ffb3e6;
      }

      .layer-middle { 
        top: 33px;
        background: #ffe6fa;
        border: 3px solid #ffb3e6;
      }

      .layer-bottom { 
        top: 66px;
        background: #ffe6fa;
        border: 3px solid #ffb3e6;
      }

      .icing {
        top: -2px;
        background-color: #ffb3e6;
        width: 250px;
        height: 100px;
        border-radius: 50%;
        position: absolute;
        z-index: 1;
        box-sizing: border-box;
      }

      .icing:before {
        content: "";
        position: absolute;
        top: 4px;
        right: 5px;
        bottom: 6px;
        left: 5px;
        background-color: #ffb3e6;
        border-radius: 50%;

        z-index: 1;
        box-sizing: border-box;
      }

      .drip {
        width: 50px;
        height: 60px;
        border-bottom-left-radius: 25px;
        border-bottom-right-radius: 25px;
        background-color: #f8acde;
        position: absolute;
      }

      .drip1 {
        top: 53px;
        left: 5px;  
        transform: skewY(15deg);
        height: 48px;
        width: 40px;
      }

      .drip2 {
        top: 69px;
        left: 181px;
        transform: skewY(-15deg);
      }

      .drip3 {
        top: 54px;
        left: 90px;
        width: 80px;
        border-bottom-left-radius: 40px;
        border-bottom-right-radius: 40px;
      }

      .candle {
        background-color: #fff;
        width: 12px;
        height: 35px;
        border-radius: 6px/3px;
        position: absolute;
        top: -20px;
        z-index: 10;
        border: 2px solid #b9e4f7;
        box-shadow: 0 2px 8px #aee7ff44;
      }

      .candle:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 12px;
        height: 6px;
        border-radius: 50%;
        background-color: #ffe6fa;
      }

      .flame {
        position: absolute;
        background: linear-gradient(180deg, #fff 0%, #ffb3e6 100%);
        width: 10px;
        height: 25px;
        border-radius: 8px 8px 8px 8px/20px 20px 8px 8px;
        top: -34px;
        left: 50%;
        margin-left: -7.5px;
        z-index: 10;
        box-shadow: 0 0 10px #ffb3e6, 0 0 20px #fff;
        animation: flicker 1s ease-in-out alternate infinite;
        transform-origin: 50% 90%;
      }

      @keyframes flicker {
        0% { transform: skewX(5deg); }
        25% { transform: skewX(-5deg); }
        50% { transform: skewX(10deg); }
        75% { transform: skewX(-10deg); }
        100% { transform: skewX(5deg); }
      }

      #confettiCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 0;
        pointer-events: none;
      }

      #greetingCardOverlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(174,231,255,0.7);
        z-index: 1000;
        justify-content: center;
        align-items: center;
      }

      .greeting-card {
        background: #fff;
        padding: 40px 30px 30px 30px;
        border-radius: 18px;
        box-shadow: 0 8px 32px #aee7ff88;
        max-width: 500px;
        text-align: center;
        position: relative;
        border: 3px solid #ffb3e6;
      }

      .greeting-card p {
        font-size: 1.2em;
        color: #4dbfff;
        font-family: 'Arial', sans-serif;
      }

      .greeting-card button {
        margin-top: 25px;
        padding: 10px 28px;
        font-size: 1em;
        background: #ff7bd7;
        color: #fff;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: background 0.2s;
        box-shadow: 0 2px 8px #aee7ff44;
      }
      .greeting-card button:hover {
        background: #aee7ff;
        color: #ff7bd7;
      }

      #confirmCandlesBtn {
        display: block;
        margin: 0 auto 30px auto;
        padding: 12px 32px;
        font-size: 20px;
        background: #4dbfff;
        color: #fff;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        box-shadow: 0 2px 8px #aee7ff44;
        transition: background 0.2s, color 0.2s;
        font-family: 'Pacifico', cursive;
        letter-spacing: 1px;
      }

      #confirmCandlesBtn:hover {
        background: #ff7bd7;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <canvas id="confettiCanvas"></canvas>
    <div class="happy-birthday-banner">Happy Birthday!</div>
    <div class="candle-count-display">
      yan kandels mo: <span id="candleCount">0</span>
    </div>
    <div class="cake-container">
      <div class="cake">
        <div class="plate"></div>
        <div class="layer layer-bottom"></div>
        <div class="layer layer-middle"></div>
        <div class="layer layer-top"></div>
        <div class="icing"></div>
        <div class="drip drip1"></div>
        <div class="drip drip2"></div>
        <div class="drip drip3"></div>
      </div>
    </div>
    <button id="confirmCandlesBtn">Confirm</button>
    <div id="greetingCardOverlay">
      <div class="greeting-card">
        <p id="greetingCardMessage"></p>
        <button id="closeCardBtn">Close</button>
      </div>
    </div>

    <script>
      const canvas = document.getElementById("confettiCanvas");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const confettiCount = 150;
      const confetti = [];
      const colors = ["#ff7bd7", "#aee7ff", "#fff"];

      for (let i = 0; i < confettiCount; i++) {
        confetti.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          r: Math.random() * 6 + 4,
          d: Math.random() * confettiCount,
          color: colors[Math.floor(Math.random() * colors.length)],
          tilt: Math.floor(Math.random() * 10) - 10,
          tiltAngleIncremental: Math.random() * 0.07 + 0.05,
          tiltAngle: 0
        });
      }

      function drawConfetti() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = 0; i < confettiCount; i++) {
          const c = confetti[i];
          ctx.beginPath();
          ctx.lineWidth = c.r / 2;
          ctx.strokeStyle = c.color;
          ctx.moveTo(c.x + c.tilt + c.r / 4, c.y);
          ctx.lineTo(c.x + c.tilt, c.y + c.tilt + c.r / 4);
          ctx.stroke();
        }
        updateConfetti();
      }

      function updateConfetti() {
        for (let i = 0; i < confettiCount; i++) {
          const c = confetti[i];
          c.tiltAngle += c.tiltAngleIncremental;
          c.y += (Math.cos(c.d) + 3 + c.r / 2) / 2;
          c.x += Math.sin(c.d);
          c.tilt = Math.sin(c.tiltAngle) * 15;

          if (c.y > canvas.height) {
            c.y = -10;
            c.x = Math.random() * canvas.width;
          }
        }
      }

      (function animateConfetti() {
        requestAnimationFrame(animateConfetti);
        drawConfetti();
      })();

      document.addEventListener("DOMContentLoaded", function () {
        const cake = document.querySelector(".cake");
        const candleCountDisplay = document.getElementById("candleCount");
        let candles = [];

        function updateCandleCount() {
          const activeCandles = candles.filter(
            (candle) => !candle.classList.contains("out")
          ).length;
          candleCountDisplay.textContent = activeCandles;
        }

        function addCandle(left, top) {
          const candle = document.createElement("div");
          candle.className = "candle";
          candle.style.left = left + "px";
          candle.style.top = top + "px";

          const flame = document.createElement("div");
          flame.className = "flame";
          candle.appendChild(flame);

          cake.appendChild(candle);
          candles.push(candle);
          updateCandleCount();
        }

        cake.addEventListener("click", function (event) {
          const rect = cake.getBoundingClientRect();
          const left = event.clientX - rect.left;
          const top = event.clientY - rect.top;
          addCandle(left, top);
        });

        const confirmBtn = document.getElementById("confirmCandlesBtn");
        const greetingCard = document.getElementById("greetingCardOverlay");
        const closeCardBtn = document.getElementById("closeCardBtn");
        const greetingCardMessage = document.getElementById("greetingCardMessage");

        confirmBtn.addEventListener("click", function() {
          const candleCount = candles.filter(c => !c.classList.contains("out")).length;
          if (candleCount === 21) {
            greetingCardMessage.textContent = `haii haloo bff, happy birthdayyyy! 21 kanaaa tanda mo na, habaan na natin pasensya ha? AHAHAHAHHAHAHA. sana lahat ng wish mo matupad at sana lagi kang healthy, safe, at surrounded by the people who truly care for you. andito lang ako for you ya, may taga explain ng joke sayo, rant, or kahit tahimik lang, and may this year bring you nothing but happiness, love, and success. Have fun and enjoy your day! Happy birthday ulittt!
- loter`;

            greetingCard.style.display = "flex";
          } else {
            greetingCardMessage.textContent = "bente uno kanaa, dadayain mo pa. lagay ka dyan 21 candles nyehehe";
            greetingCard.style.display = "flex";
            candles.forEach(candle => candle.remove());
            candles = [];
            updateCandleCount();
          }
        });

        closeCardBtn.addEventListener("click", function() {
          greetingCard.style.display = "none";
        });
      });
    </script>
  </body>
</html>
